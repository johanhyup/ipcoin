"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[12440],{965402:(t,e,i)=>{function n(t,e,i){const n=t.get(e);return void 0!==n?n:(t.set(e,i),i)}function r(t,e,i){const n=t.get(e);if(void 0!==n)return n;const r=i();return t.set(e,r),r}function o(t,e,i,r){const o=n(t,e,new Map);return n(o,i,r)}function s(t,e,i,o){return r(n(t,e,new Map),i,o)}function a(t,e,i,r,o){const s=n(t,e,new Map),a=n(s,i,new Map);return n(a,r,o)}i.d(e,{AbstractMapContainer:()=>h,getDefault2:()=>o,getDefault2Lazy:()=>s,getDefault3:()=>a});class h{constructor(){this._map=new Map,this._size=0}size(){return this._size}clear(){this._map.clear(),this._size=0}}},203736:(t,e,i)=>{i.d(e,{TextImageCachesContainer:()=>a});var n=i(650151),r=i(965402),o=i(694852),s=i(682995);class a extends r.AbstractMapContainer{constructor(t){super(),this._maxSize=t,this._keysQueue=[]}get(t){const{fontSize:e,text:i,align:n,font:a,bold:h,italic:l,lineSpacing:c=0}=t;if(!i||!e||!n)return null;const d=(0,o.makeFont)(e,a,l?"italic":"",h?"bold":""),_=(0,r.getDefault3)(this._map,c,n,d,new Map);let f=_.get(i);return void 0!==f||(this._size>=this._maxSize?this._deleteFirstKey():++this._size,this._keysQueue.push([d,n,c,i]),f=new s.TextImageCache(i,h,l,a,e,n,c),_.set(i,f)),f}_deleteFirstKey(){const t=this._keysQueue.shift(),[e,i,r,o]=t,s=(0,n.ensureDefined)(this._map.get(r)),a=(0,n.ensureDefined)(s.get(i)),h=(0,n.ensureDefined)(a.get(e));h.delete(o),0===h.size&&a.delete(e),0===a.size&&s.delete(i),0===s.size&&this._map.delete(r)}}},682995:(t,e,i)=>{i.d(e,{HorizontalAlign:()=>n,TextImageCache:()=>c,VerticalAlign:()=>r});var n,r,o=i(871934),s=i(650151),a=i(694852),h=i(631088);!function(t){t.Left="left",t.Right="right",t.Center="center"}(n||(n={})),function(t){t.Top="top",t.Bottom="bottom",t.Middle="middle"}(r||(r={}));const l=(0,h.createDisconnectedCanvas)(document,(0,o.size)({width:0,height:0}),1);class c{constructor(t,e,i,n,r,o="center",h=0){this._lines=t.split(/[^\S\r\n]*(?:\r\n|\r|\n)/),this._font=function(t,e,i,n){return(0,a.makeFont)(n,i,`${t?"bold ":""}${e?"italic ":""}`)}(e,i,n,r),this._fontSize=r,this._verticalPadding=~~(r/6),this._textAlign=o,this._lineSpacing=h;const c=(0,s.ensureNotNull)(l.getContext("2d"));c.font=this._font,c.textBaseline="top";let d=0;for(let t=0;t<this._lines.length;++t){const e=this._lines[t],i=c.measureText(e).width;d=Math.max(d,i)}this.textImageWidth=d+1,this.textImageHeight=this._lines.length*r+(this._lines.length-1)*this._lineSpacing+this._verticalPadding}paintTo(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;i.save();const o=e.location;i.translate(Math.round(function(t,e,i){let n=t;switch(e){case"left":break;case"right":n-=i;break;case"center":n-=i/2}return Math.round(n)}(o.x,o.horzAlign,this.textImageWidth)*n),Math.round(function(t,e,i){let n=t;switch(e){case"top":break;case"bottom":n-=i;break;case"middle":n-=i/2}return Math.round(n)}(o.y,o.vertAlign,this.textImageHeight)*r));const s=e.style;let a;switch(i.textBaseline="top",i.font=this._font,i.lineJoin="round",i.fillStyle=s.fillStyle,
s.strokeStyle&&(i.strokeStyle=s.strokeStyle),s.lineWidth&&(i.lineWidth=s.lineWidth),this._textAlign){case"left":a=0,i.textAlign="left";break;case"right":a=this.textImageWidth-1,i.textAlign="right";break;default:a=this.textImageWidth/2,i.textAlign="center"}let l=this._verticalPadding;(0,h.drawScaled)(i,n,r,(()=>{for(const t of this._lines)s.strokeStyle&&i.strokeText(t,a,l),i.fillText(t,a,l),l+=this._fontSize,l+=this._lineSpacing})),i.restore()}}},467841:(t,e,i)=>{i.d(e,{HorizontalLineRenderer:()=>h});var n=i(509078),r=i(665798),o=i(286436),s=i(961970),a=i(631088);class h extends s.BitmapCoordinatesPaneRenderer{constructor(){super(...arguments),this._data=null,this._hitTest=new n.HitTestResult(n.HitTarget.Regular)}setData(t){this._data=t}setHitTest(t){this._hitTest=t}hitTest(t){if(null===this._data||!1===this._data.visible||null===this._hitTest)return null;const e=(0,o.interactionTolerance)().line,i=Math.abs(t.y-this._data.y)<=e+this._data.linewidth/2,n=void 0===this._data.left||this._data.left-t.x<=e,r=void 0===this._data.right||t.x-this._data.right<=e;return i&&n&&r?this._hitTest:null}_drawImpl(t){if(null===this._data||!1===this._data.visible)return;const{context:e,horizontalPixelRatio:i,verticalPixelRatio:n,mediaSize:o}=t;if(this._data.y<-this._data.linewidth/2||this._data.y>o.height+this._data.linewidth/2)return;e.lineCap="butt",e.strokeStyle=this._data.color,e.lineWidth=Math.max(1,Math.floor(this._data.linewidth*i)),void 0!==this._data.linestyle&&(0,r.setLineStyle)(e,this._data.linestyle);const s=void 0!==this._data.left?Math.max(this._data.left,0):0,h=void 0!==this._data.right?Math.min(this._data.right,o.width):o.width,l=Math.round(this._data.y*n),c=Math.round(s*i),d=Math.round(h*i),_=this._data.excludeBoundaries;void 0!==_&&(0,a.addExclusionAreaByScope)(t,_),(0,r.drawHorizontalLine)(e,l,c,d)}}},401809:(t,e,i)=>{i.d(e,{DwgLabelPaneViewConstants:()=>n,calculateDwgLabelsMargins:()=>a,calculateLabelHeight:()=>s});var n,r=i(748947),o=i(15141);function s(t,e,i){let o=i;switch(e){case r.PlotSymbolSize.Tiny:o=.6*t;break;case r.PlotSymbolSize.Small:o=.8*t;break;case r.PlotSymbolSize.Normal:o=t;break;case r.PlotSymbolSize.Large:o=1.5*t;break;case r.PlotSymbolSize.Huge:o=2*t;break;default:"number"==typeof e&&e>0&&(o=e/n.FONT_SIZE_MULT)}return o}function a(t,e,i){const r=t.model().timeScale().barSpacing(),a=Math.round(r*n.AUTO_SIZE_MULT),h=s(n.NORMAL_SIZE,e.size,a)*n.SHAPE_HEIGHT_MULT,l=Math.round(h/2);switch(e.style){case o.DwgLabelStyle.LabelUp:case o.DwgLabelStyle.LabelLeftUp:case o.DwgLabelStyle.LabelRightUp:return{bottomPixelMargin:l,topPixelMargin:0};case o.DwgLabelStyle.LabelDown:case o.DwgLabelStyle.LabelLeftDown:case o.DwgLabelStyle.LabelRightDown:return{bottomPixelMargin:0,topPixelMargin:l};case o.DwgLabelStyle.LabelLeft:case o.DwgLabelStyle.LabelRight:case o.DwgLabelStyle.LabelCenter:return{bottomPixelMargin:l,topPixelMargin:l}}return{bottomPixelMargin:0,topPixelMargin:0}}!function(t){t.NORMAL_SIZE=50,t.AUTO_SIZE_MULT=1,t.SHAPE_HEIGHT_MULT=.5,t.SHAPE_WIDTH_MULT=.6,t.FONT_SIZE_MULT=.24}(n||(n={}))},
916403:(t,e,i)=>{i.d(e,{PaneRendererAbstractFillStrokeShape:()=>x,PaneRendererAbstractShape:()=>g,PaneRendererAbstractStrokeShape:()=>u});var n=i(650151),r=i(86441),o=i(934026),s=i(150335),a=i(509078),h=i(203736),l=i(682995),c=i(511275),d=i(961970),_=i(631088),f=i(638456);class g extends d.BitmapCoordinatesPaneRenderer{constructor(t,e={skipRenderingOptimizations:!1}){super(),this._items=[],this._barSpacing=0,this._vertOffset=0,this._textCache=e.textCache||new h.TextImageCachesContainer(5e3),this._drawOperation=e.skipRenderingOptimizations?this._drawWithoutOptimizations.bind(this):this._drawWithOptimizations.bind(this),null!==t&&this.setData(t)}hitTest(t){const e=a.HitTarget.Regular;let i=null;for(const n of this._items){if(!n)continue;const r=this._calcBoundingBox(n);if(r&&(0,o.pointInBox)(t,r)){const t={tooltip:this._getTooltip(n,r)};i=new a.HitTestResult(e,t)}}return i}setData(t){if(this._height=void 0!==t.height?t.height:t.width,this._width=void 0!==t.width?t.width:t.height,this._color=t.color,this._borderColor=t.borderColor,this._vertOffset=t.vertOffset||0,t.text&&(this._text=t.text,this._fontSize=t.fontSize,this._lineSpacing=t.lineSpacing,this._textColor=t.textColor,this._textAlign=t.textAlign||"center"),void 0!==t.items&&void 0!==t.barSpacing){const e=t.visibleItemsRange?.startItemIndex??0,i=t.visibleItemsRange?.endItemIndex??t.items.length;this.setItems(i>e?t.items.slice(e,i):[],t.barSpacing)}}setItems(t,e){this._setBaseData(t,e)}_drawImpl(t){this._preDrawInit(),this._drawOperation(t)}_calcBoundingBox(t){const e=t.vertOffset,i=this._getTextCache(t);if(!i)return;const n=i.textImageWidth,o=i.textImageHeight,s=n/2,a=t.y+e+t.textVertOffset,h=e>0?0:-o,l=e>0?o:0,c=new r.Point(t.center-s,a+h),d=new r.Point(t.center+s,a+l);return(0,r.box)(c,d)}_unionBox(t,e){const i=Math.min(t.min.x,e.min.x),n=Math.max(t.max.x,e.max.x),o=Math.min(t.min.y,e.min.y),s=Math.max(t.max.y,e.max.y),a=new r.Point(i,o),h=new r.Point(n,s);return(0,r.box)(a,h)}_getTooltip(t,e){if(t.tooltip)return{content:{type:"text",data:t.tooltip},tooltipDelay:200,extendMargin:!0,rect:{x:e.min.x,y:e.min.y,w:Math.abs(e.max.x-e.min.x),h:Math.abs(e.max.y-e.min.y)}}}_setBaseData(t,e){this._items.length=0,this._barSpacing=e;for(const e of t){if((0,s.isNaN)(e.y))continue;const t=void 0===e.width?(0,n.ensureDefined)(this._width):e.width,i=void 0===e.height?(0,n.ensureDefined)(this._height):e.height,r=void 0===e.vertOffset?this._vertOffset:e.vertOffset,o=r>0?i:-i;this._items.push({width:t,height:i,vertOffset:r,textVertOffset:o,shapeWidth:0,shapeHeight:0,stepX:0,stepY:0,...e})}}_drawItemText(t,e){const i=this._getTextCache(e);if(null===i)return;const n=e.center,r=e.vertOffset,o=e.y+r+e.textVertOffset;let s;s=e.style&&void 0!==e.style.textColor?e.style.textColor:this._textColor;const a={style:{fillStyle:s},location:{x:n,y:o,horzAlign:l.HorizontalAlign.Center,vertAlign:r>0?l.VerticalAlign.Top:l.VerticalAlign.Bottom}};i.paintTo(t,a)}_drawWithOptimizations(t){let e,i,n=null,r=!1;for(const o of this._items)(0,
s.isNaN)(o.y)||(o.style&&void 0!==o.style.color?(e=o.style.color||"rgba(0, 0, 0, 0)",i=o.style.borderColor||"rgba(0, 0, 0, 0)"):(e=this._color,i=this._borderColor),(n!==e||f.isSafari)&&(n=e,r&&this._endPath(t),this._startPath(t,e,i)),this._drawItemShape(t,o),r=!0);r&&this._endPath(t);for(const e of this._items)(0,s.isNaN)(e.y)||this._drawItemText(t,e)}_drawWithoutOptimizations(t){let e,i;for(const r of this._items){if((0,s.isNaN)(r.y))continue;const o=(0,n.ensureDefined)(r.style);e=o.color||"rgba(0, 0, 0, 0)",i=o.borderColor||"rgba(0, 0, 0, 0)",this._startPath(t,e,i),this._drawItemShape(t,r),this._endPath(t),this._drawItemText(t,r)}}_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t;(0,_.drawScaled)(i,n,r,(()=>this._drawItemShapeUsingCSSPixels(i,e)))}_drawItemShapeUsingCSSPixels(t,e){}_preDrawInit(){}_startPath(t,e,i){}_endPath(t){}_getTextCache(t){const e=t.text||this._text,i=t.fontSize||this._fontSize,n=t.lineSpacing??this._lineSpacing,r=t.textAlign||this._textAlign,o=t.font??c.CHART_FONT_FAMILY,s=t.bold??!1,a=t.italic??!1;return this._textCache.get({text:e,bold:s,italic:a,font:o,fontSize:i,lineSpacing:n,align:r})}}class u extends g{_startPath(t,e,i){const n=t.context;n.beginPath(),n.lineWidth=this._lineWidth(t),n.lineCap="butt",n.strokeStyle=e}_endPath(t){t.context.stroke()}_lineWidth(t){return Math.max(1,Math.floor(2*t.horizontalPixelRatio))}}class x extends g{_startPath(t,e,i){const n=t.context;n.beginPath(),n.lineWidth=this._lineWidth(t),n.lineCap="butt",n.fillStyle=e,n.strokeStyle=i}_endPath(t){const e=t.context;e.fill(),e.stroke()}_lineWidth(t){return Math.max(1,Math.floor(t.horizontalPixelRatio))}}},354012:(t,e,i)=>{i.d(e,{PaneRendererArrowDown:()=>h,PaneRendererArrowUp:()=>a});var n=i(86441),r=i(916403),o=i(750139);class s extends r.PaneRendererAbstractFillStrokeShape{constructor(){super(...arguments),this._sign=0,this._thinArrow=!1,this._thinArrowLineWidth=0,this._headHeight=0,this._arrowWidth=0}setItems(t,e){this._setBaseData(t,e)}_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t,s=this._lineWidth(t)%2?.5:0,a=this._sign,h=this._arrowWidth,l=this._headHeight,c=Math.abs(e.height),d=Math.round(e.center*n)+s,_=e.vertOffset,f=Math.round((e.y+_+a*c/2)*r)+s,g=(0,o.ceiledEven)(h*n),u=g/2,x=Math.round(c*r),w=Math.round(l*r);i.translate(d,f),this._thinArrow?(i.moveTo(0,0),i.lineTo(-u,-u*a),i.moveTo(0,0),i.lineTo(u,-u*a),i.moveTo(0,0),i.lineTo(0,-x*a),i.moveTo(-u,-x*a),i.lineTo(u,-x*a)):(i.moveTo(0,0),x<w?(i.lineTo(g,-x*a),i.lineTo(-g,-x*a)):(i.lineTo(g,-w*a),i.lineTo(u,-w*a),i.lineTo(u,-x*a),i.lineTo(-u,-x*a),i.lineTo(-u,-w*a),i.lineTo(-g,-w*a)),i.lineTo(0,0)),i.translate(-d,-f)}_preDrawInit(){const t=this._calculateWidth();this._arrowWidth=t,this._sign=this._isUp()?-1:1,this._thinArrow=t<4,this._thinArrowLineWidth=Math.max(t/2,1),this._headHeight=Math.round(t)}_startPath(t,e,i){const n=t.context;n.beginPath(),n.fillStyle=e,n.strokeStyle=i,n.lineWidth=this._lineWidth(t)}_lineWidth(t){return this._thinArrow?this._thinArrowLineWidth:super._lineWidth(t)}
_calcBoundingBox(t){const e=t.vertOffset,i=this._sign,r=this._arrowWidth,o=this._headHeight,s=Math.abs(t.height),a=t.center-r,h=a+2*r,l=t.y+e+i*Math.round(s/2),c=l+(-s-o)*i,d=new n.Point(a,l),_=new n.Point(h,c);let f=(0,n.box)(d,_);const g=super._calcBoundingBox(t);return g&&(f=this._unionBox(f,g)),f}_calculateWidth(){return Math.round(this._barSpacing/4)}}class a extends s{_isUp(){return!0}}class h extends s{_isUp(){return!1}}},381065:(t,e,i)=>{i.d(e,{PaneRendererCircleShape:()=>s});var n=i(86441),r=i(916403);const o=2*Math.PI;class s extends r.PaneRendererAbstractFillStrokeShape{_drawItemShapeUsingCSSPixels(t,e){const i=Math.max(e.width,e.height)/2,n=e.center,r=e.vertOffset,s=e.y+r;t.moveTo(n+i,s),t.arc(n,s,i,0,o,!1)}_calcBoundingBox(t){const e=Math.max(t.width,t.height)/2,i=t.center,r=t.vertOffset,o=t.y+r,s=i-e,a=i+e,h=o-e,l=o+e,c=new n.Point(s,h),d=new n.Point(a,l);let _=(0,n.box)(c,d);const f=super._calcBoundingBox(t);return f&&(_=this._unionBox(_,f)),_}}},744688:(t,e,i)=>{i.d(e,{PaneRendererCrossShape:()=>o});var n=i(86441),r=i(916403);class o extends r.PaneRendererAbstractStrokeShape{_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t,o=e.width,s=e.height,a=e.center-o/2,h=e.vertOffset,l=e.y-s/2+h,c=this._lineWidth(t),d=c%2?.5:0,_=Math.round(a*n);let f=Math.round((a+o)*n);(f-_)%2!=c%2&&(f+=1);const g=Math.floor((_+f)/2)+d,u=Math.round(l*r);let x=Math.round((l+s)*r);(x-u)%2!=c%2&&(x+=1);const w=Math.floor((u+x)/2)+d;i.moveTo(g,u),i.lineTo(g,x),i.moveTo(_,w),i.lineTo(f,w)}_calcBoundingBox(t){const e=t.width,i=t.height,r=t.center-e/2,o=t.vertOffset,s=t.y-i/2+o,a=r,h=r+e,l=s,c=s+i,d=new n.Point(a,l),_=new n.Point(h,c);let f=(0,n.box)(d,_);const g=super._calcBoundingBox(t);return g&&(f=this._unionBox(f,g)),f}}},743537:(t,e,i)=>{i.d(e,{PaneRendererDiamond:()=>o});var n=i(86441),r=i(916403);class o extends r.PaneRendererAbstractFillStrokeShape{_drawItemShapeUsingCSSPixels(t,e){const i=Math.round(e.height/2),n=e.center,r=e.vertOffset,o=e.y+r;t.moveTo(n,o-i),t.lineTo(n+i,o),t.lineTo(n,o+i),t.lineTo(n-i,o),t.lineTo(n,o-i)}_calcBoundingBox(t){const e=Math.round(t.height/2),i=t.center,r=t.vertOffset,o=t.y+r,s=i-e,a=i+e,h=o-e,l=o+e,c=new n.Point(s,h),d=new n.Point(a,l);let _=(0,n.box)(c,d);const f=super._calcBoundingBox(t);return f&&(_=this._unionBox(_,f)),_}}},754533:(t,e,i)=>{i.d(e,{PaneRendererFlagShape:()=>o});var n=i(86441),r=i(916403);class o extends r.PaneRendererAbstractFillStrokeShape{_drawItemShapeUsingCSSPixels(t,e){const i=e.width,n=e.height,r=n/2,o=(i-3)/3,s=e.center-i/2,a=e.vertOffset,h=e.y-r+a;t.moveTo(s,h),t.lineTo(s+3,h),t.bezierCurveTo(s+o,h-o,s+2*o,h+o,s+i,h),t.lineTo(s+i,h+r),t.bezierCurveTo(s+i-o,h+r+o,s+i-2*o,h+r-o,s+3,h+r),t.lineTo(s+3,h+n),t.lineTo(s,h+n),t.lineTo(s,h)}_calcBoundingBox(t){const e=t.width,i=t.height,r=i/2,o=t.center-e/2,s=t.vertOffset,a=t.y-r+s,h=o,l=o+e,c=a,d=a+i,_=new n.Point(h,c),f=new n.Point(l,d);let g=(0,n.box)(_,f);const u=super._calcBoundingBox(t);return u&&(g=this._unionBox(g,u)),g}}},798754:(t,e,i)=>{i.d(e,{CornerVectorsClockwise:()=>n,
PaneRendererLabelBase:()=>a});var n,r=i(650151),o=i(916403),s=i(682995);class a extends o.PaneRendererAbstractFillStrokeShape{setItems(t,e){this._setBaseData(t,e);for(const t of this._items){if(t.fontSize){const e=t.fontSize;t.stepX=Math.round(e/1.5),t.stepY=Math.round(e/2)-1}else{const e=t.height;t.stepX=Math.round(e/2*.65)+.5,t.stepY=t.stepX}t.vertOffset=this._calcVertOffset(t);const e=this._getTextCache(t);if(null===e){t.shapeWidth=2*t.stepX,t.shapeHeight=2.5*t.stepY;continue}const i=e.textImageWidth,n=e.textImageHeight;t.shapeWidth=i+2*t.stepX,t.shapeHeight=n+2*t.stepY,t.vertOffset=this._calcVertOffset(t),t.textHorizOffset=this._getHorizontalTextOffset(t),t.textVertOffset=this._getVerticalTextOffset(t)}}_calcVertOffset(t){return t.vertOffset}_drawCorner(t,e,i,n){const{context:r,horizontalPixelRatio:o}=t,s=Math.max(1,Math.floor(2*o));r.lineTo(e-s*n.prevPointSignX,i-s*n.prevPointSignY),r.arcTo(e,i,e+s*n.nextPointSignX,i+s*n.nextPointSignY,s)}_getArrowSize(t){return t.stepX}_getHorizontalTextOffset(t){return 0}_getVerticalTextOffset(t){return 0}_hasText(t){return Boolean(t.text)||Boolean(this._text)}_drawItemText(t,e){const i=this._getTextCache(e);if(null===i)return;const n=e.textHorizOffset||0,o=e.center+n,a=e.vertOffset,h=e.y+a+e.textVertOffset,l=e.style?.textColor||this._textColor,c={style:{fillStyle:(0,r.ensureDefined)(l)},location:{x:o,y:Math.floor(h),horzAlign:s.HorizontalAlign.Center,vertAlign:s.VerticalAlign.Middle}};i.paintTo(t,c)}}class h{constructor(t,e,i,n){this.prevPointSignX=t,this.prevPointSignY=e,this.nextPointSignX=i,this.nextPointSignY=n}}!function(t){t.rightUp=new h(1,0,0,1),t.rightDown=new h(0,1,-1,0),t.leftDown=new h(-1,0,0,-1),t.leftUp=new h(0,-1,1,0)}(n||(n={}))},819788:(t,e,i)=>{i.d(e,{PaneRendererLabelCenter:()=>l,PaneRendererLabelDown:()=>s,PaneRendererLabelLeft:()=>a,PaneRendererLabelRight:()=>h,PaneRendererLabelUp:()=>o});var n=i(86441),r=i(798754);class o extends r.PaneRendererLabelBase{_calcBoundingBox(t){const e=t.center-t.shapeWidth/2,i=t.center+t.shapeWidth/2,r=t.y+t.vertOffset,o=t.y+t.shapeHeight+t.vertOffset,s=new n.Point(e,r),a=new n.Point(i,o);return(0,n.box)(s,a)}_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:o}=t,s=this._lineWidth(t)%2?.5:0,a=Math.max(1,Math.floor(n))%2?.5:0,h=this._getArrowSize(e);let l=Math.round(h*n);(a+l)%1!=s%1&&(l+=.5);let c=Math.round(e.shapeWidth/2*n);(a+c)%1!=s%1&&(c+=.5);const d=Math.round(e.center*n)+a,_=Math.round((e.y+e.vertOffset)*o)+s,f=d-l,g=Math.round((e.y+e.vertOffset+h)*o)+s,u=d+l,x=d+c,w=Math.round((e.y+e.vertOffset+h+e.shapeHeight)*o)+s,p=d-c;i.moveTo(f,g),i.lineTo(d,_),i.lineTo(u,g),e.shapeWidth<=2*h?(i.lineTo(x,g),this._drawCorner(t,x,w,r.CornerVectorsClockwise.rightDown),this._drawCorner(t,p,w,r.CornerVectorsClockwise.leftDown),i.lineTo(p,g)):(this._drawCorner(t,x,g,r.CornerVectorsClockwise.rightUp),this._drawCorner(t,x,w,r.CornerVectorsClockwise.rightDown),this._drawCorner(t,p,w,r.CornerVectorsClockwise.leftDown),this._drawCorner(t,p,g,r.CornerVectorsClockwise.leftUp)),i.lineTo(f,g)}
_getVerticalTextOffset(t){return t.shapeHeight/2+this._getArrowSize(t)}_calcVertOffset(t){return Math.sign(t.vertOffset)>=0?t.vertOffset:t.vertOffset-t.shapeHeight}}class s extends r.PaneRendererLabelBase{_calcBoundingBox(t){const e=t.center-t.shapeWidth/2,i=t.center+t.shapeWidth/2,r=t.y-t.shapeHeight+t.vertOffset,o=t.y+t.vertOffset,s=new n.Point(e,r),a=new n.Point(i,o);return(0,n.box)(s,a)}_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:o}=t,s=this._lineWidth(t)%2?.5:0,a=Math.max(1,Math.floor(n))%2?.5:0,h=this._getArrowSize(e);let l=Math.round(h*n);(a+l)%1!=s%1&&(l+=.5);let c=Math.round(e.shapeWidth/2*n);(a+c)%1!=s%1&&(c+=.5);const d=Math.round(e.center*n)+a,_=Math.round((e.y+e.vertOffset)*o)+s,f=d+l,g=Math.round((e.y+e.vertOffset-h)*o)+s,u=d-l,x=d+c,w=Math.round((e.y+e.vertOffset-e.shapeHeight-h)*o)+s,p=d-c;i.moveTo(f,g),i.lineTo(d,_),i.lineTo(u,g),e.shapeWidth<=2*h?(i.lineTo(p,g),this._drawCorner(t,p,w,r.CornerVectorsClockwise.leftUp),this._drawCorner(t,x,w,r.CornerVectorsClockwise.rightUp),i.lineTo(x,g)):(this._drawCorner(t,p,g,r.CornerVectorsClockwise.leftDown),this._drawCorner(t,p,w,r.CornerVectorsClockwise.leftUp),this._drawCorner(t,x,w,r.CornerVectorsClockwise.rightUp),this._drawCorner(t,x,g,r.CornerVectorsClockwise.rightDown)),i.lineTo(f,g)}_getVerticalTextOffset(t){return-t.shapeHeight/2-this._getArrowSize(t)}_calcVertOffset(t){return Math.sign(t.vertOffset)<=0?t.vertOffset:t.vertOffset+t.shapeHeight}}class a extends r.PaneRendererLabelBase{_calcBoundingBox(t){const e=t.center,i=t.center+t.shapeWidth,r=t.y-t.shapeHeight/2+t.vertOffset,o=t.y+t.shapeHeight/2+t.vertOffset,s=new n.Point(e,r),a=new n.Point(i,o);return(0,n.box)(s,a)}_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:o}=t,s=this._lineWidth(t)%2?.5:0,a=this._getArrowSize(e),h=this._hasText(e),l=h?e.shapeHeight/2:a,c=Math.round(e.center*n)+s,d=Math.round((e.y+e.vertOffset)*o)+s,_=Math.round((e.center+a)*n)+s,f=Math.round((e.y+e.vertOffset+a)*o)+s,g=Math.round((e.y+e.vertOffset-a)*o)+s,u=Math.round((e.y+e.vertOffset-l)*o)+s,x=Math.round((e.center+e.shapeWidth+a)*n)+s,w=Math.round((e.y+e.vertOffset+l)*o)+s;i.moveTo(_,f),i.lineTo(c,d),i.lineTo(_,g),h?this._drawCorner(t,_,u,r.CornerVectorsClockwise.leftUp):i.lineTo(_,u),this._drawCorner(t,x,u,r.CornerVectorsClockwise.rightUp),this._drawCorner(t,x,w,r.CornerVectorsClockwise.rightDown),h?this._drawCorner(t,_,w,r.CornerVectorsClockwise.leftDown):i.lineTo(_,w),i.lineTo(_,f)}_getHorizontalTextOffset(t){return t.shapeWidth/2+this._getArrowSize(t)}}class h extends r.PaneRendererLabelBase{_calcBoundingBox(t){const e=t.center-t.shapeWidth,i=t.center,r=t.y-t.shapeHeight/2+t.vertOffset,o=t.y+t.shapeHeight/2+t.vertOffset,s=new n.Point(e,r),a=new n.Point(i,o);return(0,n.box)(s,a)}_drawItemShape(t,e){
const{context:i,horizontalPixelRatio:n,verticalPixelRatio:o}=t,s=this._lineWidth(t)%2?.5:0,a=this._getArrowSize(e),h=this._hasText(e),l=h?e.shapeHeight/2:a,c=Math.round(e.center*n)+s,d=Math.round((e.y+e.vertOffset)*o)+s,_=Math.round((e.center-a)*n)+s,f=Math.round((e.y+e.vertOffset-a)*o)+s,g=Math.round((e.y+e.vertOffset+a)*o)+s,u=Math.round((e.y+e.vertOffset-l)*o)+s,x=Math.round((e.center-e.shapeWidth-a)*n)+s,w=Math.round((e.y+e.vertOffset+l)*o)+s;i.moveTo(_,f),i.lineTo(c,d),i.lineTo(_,g),h?this._drawCorner(t,_,w,r.CornerVectorsClockwise.rightDown):i.lineTo(_,w),this._drawCorner(t,x,w,r.CornerVectorsClockwise.leftDown),this._drawCorner(t,x,u,r.CornerVectorsClockwise.leftUp),h?this._drawCorner(t,_,u,r.CornerVectorsClockwise.rightUp):i.lineTo(_,u),i.lineTo(_,f)}_getHorizontalTextOffset(t){return-t.shapeWidth/2-this._getArrowSize(t)}}class l extends r.PaneRendererLabelBase{_calcBoundingBox(t){const e=t.center-t.shapeWidth/2,i=t.center+t.shapeWidth/2,r=t.y-t.shapeHeight/2+t.vertOffset,o=t.y+t.shapeHeight/2+t.vertOffset,s=new n.Point(e,r),a=new n.Point(i,o);return(0,n.box)(s,a)}_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:o}=t,s=this._lineWidth(t)%2?.5:0,a=e.shapeHeight/2,h=e.shapeWidth/2,l=Math.round(e.center*n)+s,c=Math.round((e.center-h)*n)+s,d=Math.round((e.center+h)*n)+s,_=Math.round((e.y+e.vertOffset-a)*o)+s,f=Math.round((e.y+e.vertOffset+a)*o)+s;i.moveTo(l,_),this._drawCorner(t,d,_,r.CornerVectorsClockwise.rightUp),this._drawCorner(t,d,f,r.CornerVectorsClockwise.rightDown),this._drawCorner(t,c,f,r.CornerVectorsClockwise.leftDown),this._drawCorner(t,c,_,r.CornerVectorsClockwise.leftUp),i.lineTo(l,_)}}},311156:(t,e,i)=>{i.d(e,{PaneRendererSquare:()=>o});var n=i(86441),r=i(916403);class o extends r.PaneRendererAbstractFillStrokeShape{_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t,o=Math.max(1,Math.floor(n))%2?.5:0,s=this._lineWidth(t)%2?.5:0;let a=Math.round(e.height/2*r);(o+a)%1!=s%1&&(a+=.5);const h=Math.round(e.center*n)+o,l=Math.round((e.y+e.vertOffset)*r)+o,c=h-a,d=l-a,_=h+a,f=l+a;i.rect(c,d,_-c,f-d)}_calcBoundingBox(t){const e=t.height,i=Math.round(e/2),r=t.center-i,o=t.vertOffset,s=t.y+o-i,a=r,h=r+e,l=s,c=s+e,d=new n.Point(a,l),_=new n.Point(h,c);let f=(0,n.box)(d,_);const g=super._calcBoundingBox(t);return g&&(f=this._unionBox(f,g)),f}}},975696:(t,e,i)=>{i.d(e,{PaneRendererTriangleApexDown:()=>a,PaneRendererTriangleApexUp:()=>s});var n=i(86441),r=i(916403);class o extends r.PaneRendererAbstractFillStrokeShape{_calcBoundingBox(t){const e=t.width,i=t.height,r=e/2,o=Math.round(i/3),s=t.center,a=t.vertOffset-2*o,h=t.y+a,l=s-r,c=s+r,d=h,_=h+i,f=new n.Point(l,d),g=new n.Point(c,_);let u=(0,n.box)(f,g);const x=super._calcBoundingBox(t);return x&&(u=this._unionBox(u,x)),u}}class s extends o{_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t,o=e.width,s=e.height,a=Math.round(s/3),h=e.vertOffset-2*a,l=this._lineWidth(t)%2?.5:0,c=Math.max(1,Math.floor(n)),d=c%2?.5:0;let _=Math.round(o*n);_%2!=c%2&&(_+=1)
;const f=Math.round(e.center*n)+d,g=Math.round((e.y+h)*r),u=f+_/2,x=Math.round((e.y+h+s)*r)+l,w=f-_/2;i.moveTo(f,g),i.lineTo(u,x),i.lineTo(w,x),i.lineTo(f,g)}}class a extends o{_drawItemShape(t,e){const{context:i,horizontalPixelRatio:n,verticalPixelRatio:r}=t,o=e.width,s=e.height,a=Math.round(s/3),h=e.vertOffset-a,l=this._lineWidth(t)%2?.5:0,c=Math.max(1,Math.floor(n)),d=c%2?.5:0;let _=Math.round(o*n);_%2!=c%2&&(_+=1);const f=Math.round(e.center*n)+d,g=Math.round((e.y+h)*r)+l,u=f+_/2,x=Math.round((e.y+h+s)*r),w=f-_/2;i.moveTo(w,g),i.lineTo(u,g),i.lineTo(f,x),i.lineTo(w,g)}}},245356:(t,e,i)=>{i.d(e,{PaneRendererXCross:()=>o});var n=i(86441),r=i(916403);class o extends r.PaneRendererAbstractStrokeShape{_drawItemShapeUsingCSSPixels(t,e){const i=e.width,n=e.height,r=e.center-i/2,o=e.vertOffset,s=e.y-n/2+o;t.moveTo(r,s),t.lineTo(r+i,s+n),t.moveTo(r,s+n),t.lineTo(r+i,s)}_calcBoundingBox(t){const e=t.width,i=t.height,r=t.center-e/2,o=t.vertOffset,s=t.y-i/2+o,a=r,h=r+e,l=s,c=s+i,d=new n.Point(a,l),_=new n.Point(h,c);let f=(0,n.box)(d,_);const g=super._calcBoundingBox(t);return g&&(f=this._unionBox(f,g)),f}}}}]);